<Prefab>
	<Constants>
		<Constant Name="Encyclopedia.Frame.Width" BrushLayer="Default" BrushName="Encyclopedia.Frame" BrushValueType="Width" />
		<Constant Name="Encyclopedia.Frame.Height" BrushLayer="Default" BrushName="Encyclopedia.Frame" BrushValueType="Height" />
	</Constants>
	<Window>
		<!-- Full screen semi-transparent overlay -->
		<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#00000099">
			<Children>

				<!-- Main panel - responsive width for 4K -->
				<BrushWidget Id="MainPanel" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="1650" SuggestedHeight="950" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Encyclopedia.Frame">
					<Children>
						
						<!-- Header bar -->
						<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="90" VerticalAlignment="Top" Sprite="StdAssets\tabbar_popup">
							<Children>
								<!-- Title -->
								<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="8" Brush="Recruitment.Popup.Title.Text" Brush.FontSize="40" Brush.TextColor="#FFEECCFF" Text="@HeaderTitle" />
								
								<!-- Time display -->
								<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="260" SuggestedHeight="55" MarginRight="35" MarginTop="18" HorizontalAlignment="Right" Sprite="General\Notifications\notification_general" Color="#4488FFFF">
									<Children>
										<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="17" Text="@CurrentTimeText" />
									</Children>
								</Widget>
								
								<!-- Available count -->
								<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="220" SuggestedHeight="55" MarginLeft="35" MarginTop="18" HorizontalAlignment="Left" Sprite="General\Notifications\notification_general" Color="#44AA44FF">
									<Children>
										<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="17" Text="@AvailableCountText" />
									</Children>
								</Widget>
							</Children>
						</Widget>

						<!-- Scrollable activity grid -->
						<ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="750" MarginTop="100" MarginLeft="25" MarginRight="25" VerticalAlignment="Top" MouseScrollAxis="Vertical" ClipRect="CardsClip" InnerPanel="CardsClip\CardRows" AutoHideScrollBars="false">
							<Children>
								<Widget Id="CardsClip" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" ClipContents="true">
									<Children>
										<!-- Card rows - each row contains multiple cards -->
										<ListPanel Id="CardRows" DataSource="{ActivityRows}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="15" StackLayout.LayoutMethod="VerticalBottomToTop">
											<ItemTemplate>
												<!-- Single row of cards (3 cards per row) -->
												<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginBottom="5">
													<Children>
														<ListPanel DataSource="{Cards}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Left" StackLayout.LayoutMethod="HorizontalLeftToRight">
															<ItemTemplate>
																<CampActivityCard />
															</ItemTemplate>
														</ListPanel>
													</Children>
												</Widget>
											</ItemTemplate>
										</ListPanel>
									</Children>
								</Widget>
							</Children>
						</ScrollablePanel>

						<!-- Bottom status bar -->
						<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="80" VerticalAlignment="Bottom" MarginBottom="15" MarginLeft="25" MarginRight="25">
							<Children>
								<BrushWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Encyclopedia.SubPage.Element">
									<Children>
										<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="25" MarginRight="25" MarginTop="12" MarginBottom="12">
											<Children>
												<!-- Fatigue -->
												<Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="280" HorizontalAlignment="Left">
													<Children>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="3" Brush="SPGeneral.MediumText" Brush.FontSize="14" Text="Fatigue" />
														<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="220" SuggestedHeight="16" MarginTop="24" HorizontalAlignment="Left" Sprite="StdAssets\progressbar_frame">
															<Children>
																<Widget HeightSizePolicy="StretchToParent" WidthSizePolicy="Fixed" SuggestedWidth="@Fatigue" Sprite="StdAssets\progressbar_fill" Color="@FatigueColor" />
															</Children>
														</Widget>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="45" Brush="SPGeneral.MediumText" Brush.FontSize="13" Text="@FatigueText" />
													</Children>
												</Widget>
												
												<!-- Heat -->
												<Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="280" HorizontalAlignment="Center" PositionXOffset="-230">
													<Children>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="3" Brush="SPGeneral.MediumText" Brush.FontSize="14" Text="Heat (Corruption)" />
														<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="220" SuggestedHeight="16" MarginTop="24" HorizontalAlignment="Left" Sprite="StdAssets\progressbar_frame">
															<Children>
																<Widget HeightSizePolicy="StretchToParent" WidthSizePolicy="Fixed" SuggestedWidth="@Heat" Sprite="StdAssets\progressbar_fill" Color="@HeatColor" />
															</Children>
														</Widget>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="45" Brush="SPGeneral.MediumText" Brush.FontSize="13" Text="@HeatText" />
													</Children>
												</Widget>
												
												<!-- Lance Rep -->
												<Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="280" HorizontalAlignment="Center" PositionXOffset="230">
													<Children>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="3" Brush="SPGeneral.MediumText" Brush.FontSize="14" Text="Lance Reputation" />
														<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="220" SuggestedHeight="16" MarginTop="24" HorizontalAlignment="Left" Sprite="StdAssets\progressbar_frame">
															<Children>
																<Widget HeightSizePolicy="StretchToParent" WidthSizePolicy="Fixed" SuggestedWidth="@LanceRep" Sprite="StdAssets\progressbar_fill" Color="@LanceRepColor" />
															</Children>
														</Widget>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="45" Brush="SPGeneral.MediumText" Brush.FontSize="13" Text="@LanceRepText" />
													</Children>
												</Widget>
												
												<!-- Pay Owed -->
												<Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="220" HorizontalAlignment="Right">
													<Children>
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="3" Brush="SPGeneral.MediumText" Brush.FontSize="14" Text="Pay Owed" />
														<RichTextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="24" Brush="Recruitment.Popup.Title.Text" Brush.FontSize="26" Brush.TextColor="#FFCC44FF" Text="@PayOwedText" />
													</Children>
												</Widget>
											</Children>
										</Widget>
									</Children>
								</BrushWidget>
							</Children>
						</Widget>

						<!-- Close button -->
						<ButtonWidget Command.Click="ExecuteClose" HeightSizePolicy="Fixed" WidthSizePolicy="Fixed" SuggestedHeight="55" SuggestedWidth="55" VerticalAlignment="Center" HorizontalAlignment="Center" PositionYOffset="-420" PositionXOffset="790" Brush="Popup.CloseButton" />

					</Children>
				</BrushWidget>

			</Children>
		</Widget>
	</Window>
</Prefab>
