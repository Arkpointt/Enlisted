<Prefab>
  <Window>
    <!-- Full screen dark overlay -->
    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#000000DD">
      <Children>
        
        <!-- Main Panel -->
        <Widget Id="MainPanel" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="1600" SuggestedHeight="920" HorizontalAlignment="Center" VerticalAlignment="Center">
          <Children>
            
            <!-- Dark panel background -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#1A1A1AEE" />
            
            <!-- Decorative border -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="3" VerticalAlignment="Top" Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="3" VerticalAlignment="Bottom" Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="3" HorizontalAlignment="Left" Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
            <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="3" HorizontalAlignment="Right" Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
            
            <!-- Header Bar -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="55" MarginLeft="25" MarginRight="25" MarginTop="15">
              <Children>
                <!-- Title -->
                <RichTextWidget Text="@HeaderTitle" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" Brush="Recruitment.Popup.Title.Text" Brush.FontSize="32" Brush.TextColor="#FFE4B5FF" />
                
                <!-- Time display -->
                <RichTextWidget Text="@CurrentTimeText" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" PositionXOffset="-130" VerticalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="18" Brush.TextColor="#CCCCCCFF" />
                
                <!-- Done button -->
                <ButtonWidget Command.Click="ExecuteClose" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="110" SuggestedHeight="40" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="Popup.Button.ItemCard.Primary" UpdateChildrenStates="true">
                  <Children>
                    <RichTextWidget Text="Done" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Popup.Button.ItemCard.Text" />
                  </Children>
                </ButtonWidget>
              </Children>
            </Widget>
            
            <!-- Tab Headers Row -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="50" PositionYOffset="75" MarginLeft="25" MarginRight="25">
              <Children>
                <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" StackLayout.LayoutMethod="HorizontalLeftToRight">
                  <Children>
                    
                    <!-- Reports Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectNews" IsSelected="@IsNewsSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="145" MarginRight="6" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <RichTextWidget Text="Reports" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                      </Children>
                    </ButtonWidget>
                    
                    <!-- Medical Tent Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectMedicalTent" IsSelected="@IsMedicalTentSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="180" MarginRight="6" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="12" MarginRight="12">
                          <Children>
                            <RichTextWidget Text="Medical Tent" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                            <RichTextWidget DataSource="{MedicalTentTab}" Text="@CountText" IsVisible="@HasActivities" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#88FF88FF" />
                          </Children>
                        </Widget>
                      </Children>
                    </ButtonWidget>
                    
                    <!-- Training Grounds Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectTrainingGrounds" IsSelected="@IsTrainingGroundsSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="145" MarginRight="6" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="12" MarginRight="12">
                          <Children>
                            <RichTextWidget Text="Training" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                            <RichTextWidget DataSource="{TrainingGroundsTab}" Text="@CountText" IsVisible="@HasActivities" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#88FF88FF" />
                          </Children>
                        </Widget>
                      </Children>
                    </ButtonWidget>
                    
                    <!-- Lord's Tent Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectLordsTent" IsSelected="@IsLordsTentSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="165" MarginRight="6" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="12" MarginRight="12">
                          <Children>
                            <RichTextWidget Text="Lord's Tent" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                            <RichTextWidget DataSource="{LordsTentTab}" Text="@CountText" IsVisible="@HasActivities" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#88FF88FF" />
                          </Children>
                        </Widget>
                      </Children>
                    </ButtonWidget>
                    
                    <!-- Quartermaster Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectQuartermaster" IsSelected="@IsQuartermasterSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="185" MarginRight="6" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="12" MarginRight="12">
                          <Children>
                            <RichTextWidget Text="Quartermaster" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                            <RichTextWidget DataSource="{QuartermasterTab}" Text="@CountText" IsVisible="@HasActivities" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#88FF88FF" />
                          </Children>
                        </Widget>
                      </Children>
                    </ButtonWidget>
                    
                    <!-- Quarters Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectPersonalQuarters" IsSelected="@IsPersonalQuartersSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="150" MarginRight="6" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="12" MarginRight="12">
                          <Children>
                            <RichTextWidget Text="Quarters" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                            <RichTextWidget DataSource="{PersonalQuartersTab}" Text="@CountText" IsVisible="@HasActivities" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#88FF88FF" />
                          </Children>
                        </Widget>
                      </Children>
                    </ButtonWidget>
                    
                    <!-- Camp Fire Tab -->
                    <ButtonWidget Command.Click="ExecuteSelectCampFire" IsSelected="@IsCampFireSelected" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="155" Brush="Clan.TabControl.TabButton" UpdateChildrenStates="true">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="12" MarginRight="12">
                          <Children>
                            <RichTextWidget Text="Camp Fire" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Left" VerticalAlignment="Center" Brush="Clan.TabControl.TabButton.Text" />
                            <RichTextWidget DataSource="{CampFireTab}" Text="@CountText" IsVisible="@HasActivities" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#88FF88FF" />
                          </Children>
                        </Widget>
                      </Children>
                    </ButtonWidget>
                    
                  </Children>
                </ListPanel>
              </Children>
            </Widget>
            
            <!-- Separator line under tabs -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="1" PositionYOffset="130" MarginLeft="25" MarginRight="25" Sprite="BlankWhiteSquare_9" Color="#8B7355AA" />
            
            <!-- Tab Content Area -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="680" PositionYOffset="140" MarginLeft="25" MarginRight="25">
              <Children>
                
                <!-- Reports Tab Content -->
                <Widget DataSource="{NewsTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20">
                          <Children>
                            
                            <!-- No reports message -->
                            <RichTextWidget Text="@NoNewsText" IsVisible="@HasNews == false" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="18" Brush.TextColor="#888888FF" />
                            
                            <!-- Reports items list -->
                            <ListPanel DataSource="{NewsItems}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop">
                              <ItemTemplate>
                                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="90" MarginBottom="12">
                                  <Children>
                                    <!-- Card background -->
                                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#2A2A2ACC" />
                                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="4" HorizontalAlignment="Left" Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                                    
                                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="20" MarginRight="20" MarginTop="15" MarginBottom="15">
                                      <Children>
                                        <RichTextWidget Text="@Icon" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="35" Brush="SPGeneral.MediumText" Brush.FontSize="22" Brush.TextColor="#FFE4B5FF" />
                                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="45">
                                          <Children>
                                            <RichTextWidget Text="@Title" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" Brush="SPGeneral.MediumText" Brush.FontSize="18" Brush.TextColor="#FFFFFFFF" />
                                            <RichTextWidget Text="@Description" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" PositionYOffset="28" Brush="SPGeneral.SmallText" Brush.FontSize="14" Brush.TextColor="#AAAAAA" />
                                          </Children>
                                        </Widget>
                                        <RichTextWidget Text="@Timestamp" WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Right" VerticalAlignment="Top" Brush="SPGeneral.SmallText" Brush.FontSize="13" Brush.TextColor="#888888FF" />
                                      </Children>
                                    </Widget>
                                  </Children>
                                </Widget>
                              </ItemTemplate>
                            </ListPanel>
                            
                          </Children>
                        </Widget>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
                <!-- Medical Tent Tab Content -->
                <Widget DataSource="{MedicalTentTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <ListPanel DataSource="{Activities}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" StackLayout.LayoutMethod="VerticalBottomToTop">
                          <ItemTemplate>
                            <Include Name="Camp\CampActivityCard" />
                          </ItemTemplate>
                        </ListPanel>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
                <!-- Training Grounds Tab Content -->
                <Widget DataSource="{TrainingGroundsTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <ListPanel DataSource="{Activities}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" StackLayout.LayoutMethod="VerticalBottomToTop">
                          <ItemTemplate>
                            <Include Name="Camp\CampActivityCard" />
                          </ItemTemplate>
                        </ListPanel>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
                <!-- Lord's Tent Tab Content -->
                <Widget DataSource="{LordsTentTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <ListPanel DataSource="{Activities}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" StackLayout.LayoutMethod="VerticalBottomToTop">
                          <ItemTemplate>
                            <Include Name="Camp\CampActivityCard" />
                          </ItemTemplate>
                        </ListPanel>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
                <!-- Quartermaster Tab Content -->
                <Widget DataSource="{QuartermasterTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <ListPanel DataSource="{Activities}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" StackLayout.LayoutMethod="VerticalBottomToTop">
                          <ItemTemplate>
                            <Include Name="Camp\CampActivityCard" />
                          </ItemTemplate>
                        </ListPanel>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
                <!-- Quarters Tab Content -->
                <Widget DataSource="{PersonalQuartersTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <ListPanel DataSource="{Activities}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" StackLayout.LayoutMethod="VerticalBottomToTop">
                          <ItemTemplate>
                            <Include Name="Camp\CampActivityCard" />
                          </ItemTemplate>
                        </ListPanel>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
                <!-- Camp Fire Tab Content -->
                <Widget DataSource="{CampFireTab}" IsVisible="@IsSelected" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                  <Children>
                    <ScrollablePanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
                      <Children>
                        <ListPanel DataSource="{Activities}" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="20" StackLayout.LayoutMethod="VerticalBottomToTop">
                          <ItemTemplate>
                            <Include Name="Camp\CampActivityCard" />
                          </ItemTemplate>
                        </ListPanel>
                      </Children>
                    </ScrollablePanel>
                  </Children>
                </Widget>
                
              </Children>
            </Widget>
            
            <!-- Status Bar at Bottom -->
            <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="55" VerticalAlignment="Bottom" MarginLeft="25" MarginRight="25" MarginBottom="15">
              <Children>
                <!-- Bar background -->
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#2A2A2ACC" />
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="2" VerticalAlignment="Top" Sprite="BlankWhiteSquare_9" Color="#8B735580" />
                
                <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" StackLayout.LayoutMethod="HorizontalLeftToRight" MarginLeft="25" MarginRight="25">
                  <Children>
                    
                    <!-- Fatigue -->
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="280">
                      <Children>
                        <RichTextWidget Text="@FatigueText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="16" Brush.TextColor="#FFAA55FF" />
                      </Children>
                    </Widget>
                    
                    <!-- Heat -->
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="220">
                      <Children>
                        <RichTextWidget Text="@HeatText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="16" Brush.TextColor="#FF6B6BFF" />
                      </Children>
                    </Widget>
                    
                    <!-- Lance Rep -->
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent" SuggestedWidth="220">
                      <Children>
                        <RichTextWidget Text="@LanceRepText" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" Brush="SPGeneral.MediumText" Brush.FontSize="16" Brush.TextColor="#88FF88FF" />
                      </Children>
                    </Widget>
                    
                  </Children>
                </ListPanel>
                
              </Children>
            </Widget>
            
          </Children>
        </Widget>
        
      </Children>
    </Widget>
  </Window>
</Prefab>
