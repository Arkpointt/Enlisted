{
  "version": 1,
  "description": "Maps schedule activities to event pools. When an activity executes, it has a chance to fire an event from its pool instead of simple completion.",
  "pools": [
    {
      "activity_id": "work_detail",
      "simple_completion_chance": 0.80,
      "simple_completion": {
        "xp": {
          "engineering": 10
        },
        "fatigue_cost": 1
      },
      "event_pool": [
        {
          "event_id": "rusty_weapon_found",
          "weight": 1.0,
          "comment": "Weapon repair skill check"
        },
        {
          "event_id": "broken_wagon_wheel",
          "weight": 0.8,
          "comment": "Engineering skill check"
        },
        {
          "event_id": "sharpening_stones_task",
          "weight": 1.2,
          "comment": "More common maintenance task"
        }
      ]
    },
    {
      "activity_id": "patrol_duty",
      "simple_completion_chance": 0.80,
      "simple_completion": {
        "xp": {
          "scouting": 10
        },
        "fatigue_cost": 1
      },
      "event_pool": [
        {
          "event_id": "suspicious_tracks",
          "weight": 1.0,
          "comment": "Tracking and investigation"
        },
        {
          "event_id": "lost_traveler_encounter",
          "weight": 0.7,
          "comment": "Social encounter, less common"
        }
      ]
    },
    {
      "activity_id": "sentry_duty",
      "simple_completion_chance": 0.80,
      "simple_completion": {
        "xp": {
          "scouting": 8
        },
        "fatigue_cost": 1
      },
      "event_pool": [
        {
          "event_id": "night_watch_disturbance",
          "weight": 1.0,
          "comment": "Investigation or alarm"
        },
        {
          "event_id": "officer_inspection_round",
          "weight": 0.5,
          "comment": "Rare inspection event"
        }
      ]
    },
    {
      "activity_id": "training_drill",
      "simple_completion_chance": 0.80,
      "simple_completion": {
        "xp": {
          "athletics": 12
        },
        "fatigue_cost": 2
      },
      "event_pool": [
        {
          "event_id": "formation_drill_moment",
          "weight": 0.8,
          "comment": "Recognition moment"
        },
        {
          "event_id": "sparring_challenge",
          "weight": 0.6,
          "comment": "Combat challenge"
        }
      ]
    },
    {
      "activity_id": "foraging",
      "simple_completion_chance": 0.80,
      "simple_completion": {
        "xp": {
          "scouting": 10,
          "medicine": 5
        },
        "fatigue_cost": 2
      },
      "event_pool": [
        {
          "event_id": "hidden_cache_found",
          "weight": 0.5,
          "comment": "Rare discovery event"
        }
      ]
    }
  ],
  "notes": [
    "simple_completion_chance: Probability (0.0-1.0) that activity completes with simple XP reward",
    "event_pool: If simple completion doesn't trigger, roll weighted random from this pool",
    "weight: Relative probability within pool (1.0 = standard, 0.5 = half as likely, 1.5 = 50% more likely)",
    "Events must have delivery.schedule_trigger = 'on_activity_execution' to be valid for pools",
    "Events must have requirements.duty or delivery.activity_trigger matching the activity type"
  ]
}

